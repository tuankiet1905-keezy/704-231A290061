<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>bt2</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      /* T·ªëi ∆∞u ri√™ng cho ph·∫ßn nh·∫≠p li·ªáu b√†i 2 */
      .input-group {
        display: flex;
        gap: 12px;
        margin-bottom: 30px;
        background: rgba(255, 255, 255, 0.5); /* T·∫°o m·ªôt l·ªõp n·ªÅn nh·∫π cho c·∫£ c·ª•m input */
        padding: 10px;
        border-radius: 18px;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05); /* Hi·ªáu ·ª©ng l√µm nh·∫π */
      }

      #taskInput {
        flex: 1;
        margin: 0;
        background: #ffffff !important; /* Bu·ªôc n·ªÅn tr·∫Øng ƒë·ªÉ n·ªïi b·∫≠t ch·ªØ */
        border: 2px solid var(--primary-color); /* Vi·ªÅn m√†u ch·ªß ƒë·∫°o ƒë·ªÉ d·ªÖ nh·∫≠n di·ªán */
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1); /* ƒê·ªï b√≥ng nh·∫π ph√≠a d∆∞·ªõi */
        color: #1e293b;
        font-weight: 500;
      }

      #taskInput::placeholder {
        color: #94a3b8; /* M√†u placeholder d·ªÖ nh√¨n h∆°n */
      }

      .task-list {
        display: grid;
        gap: 12px;
      }

      .task-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: white; /* Item list n·ªÅn tr·∫Øng thu·∫ßn cho s·∫°ch s·∫Ω */
        padding: 18px;
        border-radius: 14px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(0, 0, 0, 0.05);
        transition: var(--transition);
      }

      .task-item:hover {
        transform: scale(1.02);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .btn-add {
        white-space: nowrap;
        padding: 0 30px;
        box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
      }
    </style>
  </head>
  <body>
    <!-- 1. C√°ch x·ª≠ l√Ω m·∫£ng State v√† render l·∫°i DOM:

        M·∫£ng State l√†m g·ªëc: T√¥i s·ª≠ d·ª•ng m·ªôt m·∫£ng tasks duy nh·∫•t ƒë·ªÉ l∆∞u tr·ªØ to√†n b·ªô d·ªØ li·ªáu. M·ªçi h√†nh ƒë·ªông (Th√™m/X√≥a) ƒë·ªÅu t√°c ƒë·ªông v√†o m·∫£ng n√†y tr∆∞·ªõc ti√™n, thay v√¨ thao t√°c tr·ª±c ti·∫øp tr√™n giao di·ªán.

        H√†m render() t·∫≠p trung: ƒê·ªÉ t·ªëi ∆∞u h√≥a vi·ªác hi·ªÉn th·ªã, t√¥i vi·∫øt m·ªôt h√†m render() ri√™ng. M·ªói khi m·∫£ng tasks thay ƒë·ªïi, h√†m n√†y s·∫Ω qu√©t qua m·∫£ng b·∫±ng ph∆∞∆°ng th·ª©c .map() ƒë·ªÉ t·∫°o ra chu·ªói HTML v√† c·∫≠p nh·∫≠t l·∫°i innerHTML c·ªßa danh s√°ch. ƒêi·ªÅu n√†y gi√∫p code s·∫°ch s·∫Ω, d·ªÖ qu·∫£n l√Ω (Single Source of Truth).

        2. L∆∞u tr·ªØ d·ªØ li·ªáu (LocalStorage):

        S·ª≠ d·ª•ng JSON.stringify() ƒë·ªÉ chuy·ªÉn m·∫£ng th√†nh chu·ªói khi l∆∞u v√† JSON.parse() khi t·∫£i l·∫°i trang. ƒêi·ªÅu n√†y gi√∫p d·ªØ li·ªáu c·ªßa ng∆∞·ªùi d√πng kh√¥ng b·ªã m·∫•t ƒëi khi t·∫Øt tr√¨nh duy·ªát.

        3. Thi·∫øt k·∫ø Grid & UX:

        S·ª≠ d·ª•ng CSS Grid (display: grid) ƒë·ªÉ t·∫°o kho·∫£ng c√°ch ƒë·ªìng ƒë·ªÅu (gap) gi·ªØa c√°c c√¥ng vi·ªác, gi√∫p giao di·ªán ngay ng·∫Øn v√† d·ªÖ nh√¨n.

        B·ªï sung ph√≠m t·∫Øt Enter ƒë·ªÉ th√™m vi·ªác nhanh, tƒÉng tr·∫£i nghi·ªám ng∆∞·ªùi d√πng. -->
    <nav>
      <a href="index.html">Trang ch·ªß</a>
      <a href="about.html">Gi·ªõi thi·ªáu</a>
      <a href="baitap01.html">Carousel</a>
      <a href="baitap02.html">To-Do List</a>
      <a href="baitap03.html">ƒêo√°n S·ªë</a>
      <a href="baitap20.html" style="background: #e67e22; color: white">BT 20 (Tr·∫Øc nghi·ªám)</a>
      <a href="baitap21.html" style="background: #e67e22; color: white">BT 21 (Th·ª±c h√†nh)</a>
      <a href="contact.html">Li√™n h·ªá</a>
    </nav>

    <div class="container" style="max-width: 600px">
      <h2 style="text-align: center; margin-bottom: 25px">üìù Danh s√°ch c√¥ng vi·ªác</h2>

      <div class="input-group">
        <input type="text" id="taskInput" placeholder="Nh·∫≠p vi·ªác c·∫ßn l√†m ngay..." autocomplete="off" />
        <button class="btn-add" onclick="addTask()">Th√™m Vi·ªác</button>
      </div>

      <div id="taskList" class="task-list"></div>

      <div style="text-align: center; margin-top: 40px">
        <a
          href="index.html"
          class="btn"
          style="background: #64748b; text-decoration: none; padding: 10px 20px; font-size: 0.9rem"
          >üè† V·ªÅ trang ch·ªß</a
        >
      </div>
    </div>

    <script src="js/script.js"></script>
    <script>
      let tasks = JSON.parse(localStorage.getItem("myTasks")) || [];

      function render() {
        const list = document.getElementById("taskList");
        if (tasks.length === 0) {
          list.innerHTML = `<p style="text-align:center; color:#94a3b8; margin-top:20px;">Ch∆∞a c√≥ c√¥ng vi·ªác n√†o. H√£y th√™m vi·ªác m·ªõi!</p>`;
        } else {
          list.innerHTML = tasks
            .map(
              (t, i) => `
                    <div class="task-item">
                        <span style="font-size: 1.05rem;">${t}</span>
                        <button class="btn-del" onclick="removeTask(${i})" 
                                style="background:#ef4444; padding: 8px 15px; font-size: 0.85rem;">X√≥a</button>
                    </div>
                `,
            )
            .join("");
        }
        localStorage.setItem("myTasks", JSON.stringify(tasks));
      }

      function addTask() {
        const input = document.getElementById("taskInput");
        const value = input.value.trim();
        if (value) {
          tasks.push(value);
          input.value = "";
          render();
        } else {
          input.focus();
        }
      }

      function removeTask(i) {
        if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a vi·ªác n√†y?")) {
          tasks.splice(i, 1);
          render();
        }
      }

      // Cho ph√©p nh·∫•n Enter ƒë·ªÉ th√™m
      document.getElementById("taskInput").addEventListener("keypress", (e) => {
        if (e.key === "Enter") addTask();
      });

      render();
    </script>
  </body>
</html>
